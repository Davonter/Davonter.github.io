{"posts":[{"title":"tmux简易说明","content":"1. 简介 tmux是一个非常高效且功能强大的终端复用器。对于Linux运维，使用vim/neovim开发的同学可以说是必不可少的工具。终端前台默认开启的进程等到终端会话退出时也会随之被关闭，tmux就很好的解决了这个问题，它可以使终端会话永久保存，哪怕设备关机重启了都没问题。 tmux 中有三个概念：session（会话）, window（窗口）, pane（窗格） 它们三个的层次结构如下图： 2. 常用快捷键 下面介绍一下常用的相关的快捷键： 默认配置下，快捷键的前缀是 ctrl+b. session相关： ctrl + b, d: 分离当前会话 ctrl + b, s: 列出当前所有会话 ctrl + b, $: 重命名当前会话 ctrl + b, : new -s name: 创建一个名称为name的新会话。 window相关： ctrl + b, c: 创建一个新窗口，在状态栏上会显示多个窗口的信息 ctrl + b, p: 切换到上一个窗口 ctrl + b, n: 切换到下一个窗口 ctrl + b, : 切换到指定编号的窗口，编号在状态栏上有显示 ctrl + b, w: 从列表中选择窗口 ctrl + b, ,: 窗口重命名 pane相关： ctrl + b, %: 划分成左右两个窗格 ctrl + b, “: 划分成上下两个窗格 ctrl + b, : 将光标切换到其他窗格 ctrl + b, : : 光标切换到上一个窗格 ctrl + b, o: 光标切换到下一个窗格 ctrl + b, {: 当前窗格与上一个窗格交换位置 ctrl + b, }: 当前窗格与下一个窗格交换位置 ctrl + b, x: 关闭当前窗格 ctrl + b, z: 将当前窗格拆分成一个独立窗口 ctrl + b, ctrl + : 按箭头方向调整窗格大小 ctrl + b, q: 显示窗格编号 3. 插件管理 安装 tpm (tmux-plugins manager) 插件管理器 git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm 编辑 .tmux.conf文件 set -g @plugin 'tmux-plugins/tpm' # plugins # prefix + Ctrl-s - save; prefix + Ctrl-r - restore. https://github.com/tmux-plugins/tmux-resurrect set -g @plugin 'tmux-plugins/tmux-resurrect' set -g @plugin 'tmux-plugins/tmux-continuum' set -g @plugin 'dracula/tmux' # restore vim/neovim session set -g @resurrect-strategy-vim 'session' set -g @resurrect-strategy-nvim 'session' set -g @continuum-restore 'on' set -g @resurrect-capture-pane-contents 'on' set -g mouse on set -g @dracula-plugins &quot;cpu-usage ram-usage time&quot; set -g @dracula-show-powerline true # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf) run '~/.tmux/plugins/tpm/tpm' 激活配置 $ tmux $ tmux source ~/.tmux.conf 安装插件 $ ctrl + b + shift + i 卸载插件 在~/.tmux.conf中注释掉 set -g @plugin ”xxx“ 按下 ctrl + b + alt + u ","link":"https://davonter.github.io/tmux-jian-yi-shuo-ming/"},{"title":"使用github pages + gridea搭建个人博客","content":"0. 准备 1. 什么是github pages 官网介绍中文介绍 GitHub Pages 是一项静态站点托管服务，它直接从 GitHub 上的仓库获取 HTML、CSS 和 JavaScript 文件，（可选）通过构建过程运行文件，然后发布网站。 就是说，默认你可以使用 github.io 域名来创建自己的托管web站点，供公网用户访问。当然，也可以自定义域名，不过需要进行域名转发，此处不展开。 2. 什么是gridea 官网 Gridea 是一个静态博客写作客户端，帮助你更容易地构建并管理博客或任何静态站点 Gridea方便之处在于可以直接在客户端写文章，写完就可以直接发布到github.io站点上，非常简单快捷。 1. 准备github博客仓库 创建一个新仓库，命名为 username.github.io，注意: username替换成自己的github账户名 2. 准备gridea客户端 👉👉下载地址 gridea 天然支持跨平台，按照自己的平台下载对应的安装程序。 3. gridea客户端配置 1. 基础配置 自定义内容 主题 2. 远程配置 github.io others 4. 其他😎 ","link":"https://davonter.github.io/shi-yong-github-pages-gridea-da-jian-ge-ren-bo-ke/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://davonter.github.io/hello-gridea/"},{"title":"新建只能访问LUCI的非root用户","content":"编译LEDE/openWRT，不管是ssh远程登录还是luci界面都只有root用户，为了增强系统的安全性，就要将ssh和luci的用户做区分。 本例默认用户为root，密码为123456，作为系统访问用户； 新增用户为admin，密码为admin，作为luci登录用户； 添加admin用户 打开**~/lede/package/base-files/files/etc/passwd**文件，新增一行 admin:111bMnX4.As$1zYpw0zNYtiDD/EI6TVGd1:1000:1000:::/bin/false 前两个冒号中间的字符串时加密后的admin密码，大家可以自行修改 修改LUCI登录用户 打开**~/lede/feeds/luci/modules/luci-mod-admin-full/luasrc/controller/admin/index.lua**文件，如下修改： diff --git a/modules/luci-mod-admin-full/luasrc/controller/admin/index.lua b/modules/luci-mod-admin-full/luasrc/controller/admin/index.lua old mode 100644 new mode 100755 index cc8c2e3..1efbc49 --- a/modules/luci-mod-admin-full/luasrc/controller/admin/index.lua +++ b/modules/luci-mod-admin-full/luasrc/controller/admin/index.lua @@ -14,7 +14,7 @@ function index() page.target = firstchild() page.title = _(\"Administration\") page.order = 10 - page.sysauth = \"root\" + page.sysauth = \"admin\" page.sysauth_authenticator = \"htmlauth\" page.ucidata = true page.index = true 正常编译 make V=s ","link":"https://davonter.github.io/xin-jian-zhi-neng-fang-wen-luci-de-fei-root-yong-hu/"},{"title":"OpenWrt/Lede 添加Samba支持","content":"samba功能定制 1.uci定制 Base System ---&gt; &lt;*&gt; uci................ Utility for the Unified Configuration Interface (UCI) Libraries ---&gt; &lt;*&gt; libuci........... C library for the Unified Configuration Interface (UCI) 2.samba服务器定制 Network ----&gt; &lt;*&gt; samba36-server................................. Samba 3.6 SMB/CIFS server 3.smb.conf.template文件修改 目录 source/package/network/services/samba36/files/smb.conf.template [global] netbios name = |NAME| display charset = |CHARSET| interfaces = |INTERFACES| server string = |DESCRIPTION| unix charset = |CHARSET| workgroup = |WORKGROUP| browseable = yes deadtime = 30 domain master = yes encrypt passwords = true enable core files = no guest account = root guest ok = yes #invalid users = root local master = yes load printers = no map to guest = Bad User max protocol = SMB2 min receivefile size = 16384 null passwords = yes obey pam restrictions = yes os level = 20 passdb backend = smbpasswd preferred master = yes printable = no security = user smb encrypt = disabled smb passwd file = /etc/samba/smbpasswd socket options = TCP_NODELAY IPTOS_LOWDELAY syslog = 2 use sendfile = yes writeable = yes 3. samba.conf文件修改 目录 source/package/network/services/samba36/files/samba.conf config samba option 'name' 'Lede' option 'workgroup' 'WORKGROUP' option 'description' 'Lede' option 'homes' '1' config sambashare option name 'Lede' option path '/mnt/usbstorage' option read_only 'no' option guest_ok 'yes' option create_mask '0700' option dir_mask '0700' ","link":"https://davonter.github.io/openwrtlede-tian-jia-samba-zhi-chi/"},{"title":"OpenWrt/Lede 添加USB支持","content":"USB功能定制 1. 添加USB相关支持 Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb-core. Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb-ohci. Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb-uhci. Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb-storage. #安装usb存储设备驱动 Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb-storage-extras. Kernel modules —&gt; USB Support —&gt; &lt;*&gt; kmod-usb2. ##usb2.0 2. 添加SCSI支持 Kernel modules —&gt; Block Devices —&gt; &lt;*&gt;kmod-scsi-core 3. 添加文件系统支持 Kernel modules —&gt; Filesystems —&gt; &lt;*&gt; kmod-fs-ext4 (移动硬盘EXT4格式选择) Kernel modules —&gt; Filesystems —&gt; &lt;*&gt; kmod-fs-vfat(FAT16 / FAT32 格式 选择) Kernel modules —&gt; Filesystems —&gt; &lt;*&gt; kmod-fs-ntfs (NTFS 格式 选择) Kernel modules —&gt; Filesystems —&gt; &lt;*&gt; kmod-fuse 4. 添加UTF8编码,CP437编码，ISO8859-1编码 Kernel modules —&gt; Native Language Support —&gt; &lt;*&gt; kmod-nls-cp437 Kernel modules —&gt; Native Language Support —&gt; &lt;*&gt; kmod-nls-iso8859-1 Kernel modules —&gt; Native Language Support —&gt; &lt;*&gt; kmod-nls-utf8 Utilities ---&gt; disc ---&gt; &lt;*&gt; fdisk.................................... manipulate disk partition table Utilities ---&gt; &lt;*&gt; usbutils................................... USB devices listing utilities 5. 挂载NTFS Utilities —&gt; Filesystem —&gt; &lt;*&gt; ntfs-3g 保存退出 6. 支持nls-cp936 make kernel_menuconfig File systems ---&gt; &lt;*&gt; Native language support ---&gt; &lt;*&gt; Codepage 437 (United States, Canada) &lt;*&gt; Simplified Chinese charset (CP936, GB2312) 硬盘自动挂载 在source/package/base-files/files/etc/hotplug.d/block目录下添加脚本40-mount，如果没有直接创建 脚本内容如下： #!/bin/sh case &quot;$ACTION&quot; in add) /etc/init.d/samba start for i in $(ls /dev/ | grep 'sd[a-z][1-9]') do mkdir -p /mnt/usbstorage isntfs=`fdisk -l | grep $i | grep NTFS` if [&quot;$isntfs&quot; = &quot;&quot;];then mount -o iocharset=utf8,rw /dev/$i /mnt/usbstorage if [ &quot;$?&quot; -ne 0 ];then mount -o rw /dev/$i /mnt/usbstorage fi else ntfs-3g -o iocharset=utf8,rw /dev/$i /mnt/usbstorage if [ &quot;$?&quot; -ne 0 ];then ntfs-3g -o rw /dev/$i /mnt/usbstorage fi fi done ;; remove) /etc/init.d/samba stop MOUNT=`mount | grep -o '/mnt/usbstorage'` for i in $MOUNT do umount /mnt/usbstorage done ;; esac ","link":"https://davonter.github.io/openwrtlede-tian-jia-usb-zhi-chi/"}]}